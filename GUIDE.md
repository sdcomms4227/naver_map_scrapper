# 네이버 지도 스크립트 실행 가이드

## 개요
이 가이드는 네이버 지도에서 키워드 검색을 수행하고 결과를 JSON 파일로 저장하는 스크립트의 사용 방법을 설명합니다.

## 기능
- 키워드 기반 장소 검색
- 필터 키워드로 결과 필터링
- 검색 결과 JSON 파일 저장
- 실시간 실행 로그 확인
- 스크립트 실행 중지
- 검색 결과 JSON 파일 다운로드

## 사용 방법

### 1. 검색어 입력
- "검색어" 입력란에 찾고자 하는 장소의 키워드를 입력합니다.
- 예: "부산광역시 파티룸"

### 2. 필터 키워드 입력 (선택)
- "필터 키워드" 입력란에 검색 결과를 필터링할 키워드를 쉼표(,)로 구분하여 입력합니다.
- 예: "장소대여, 공간대여"
- 필터 키워드를 입력하지 않으면 모든 검색 결과가 포함됩니다.

### 3. 스크립트 실행
- "실행" 버튼을 클릭하여 검색을 시작합니다.
- 스크립트 실행 중에는 상태 표시등이 녹색으로 깜빡입니다.
- 실행 중에는 "실행" 버튼이 비활성화되고 "중지" 버튼이 활성화됩니다.
- 실행 중에는 JSON 다운로드 버튼이 비활성화됩니다.

### 4. 실행 로그 확인
- "실행 로그" 영역에서 실시간으로 검색 진행 상황을 확인할 수 있습니다.
- 검색된 장소의 정보와 예약 가능 여부가 로그에 표시됩니다.

### 5. 스크립트 중지
- 실행 중에 "중지" 버튼을 클릭하여 검색을 중지할 수 있습니다.
- 중지 후에는 상태 표시등이 회색으로 변경됩니다.

### 6. 검색 결과 다운로드
- 스크립트 실행이 완료되면 JSON 다운로드 버튼이 활성화됩니다.
- JSON 다운로드 버튼을 클릭하면 가장 최근에 생성된 검색 결과 JSON 파일이 다운로드됩니다.
- 다운로드된 JSON 파일에는 다음 정보가 포함됩니다:
  - 장소 ID
  - 장소명
  - 필터 키워드
  - 주소
  - 전화번호
  - 예약 가능 여부
  - 예약 아이템 개수 (예약 가능한 경우)

## 주의사항
- 검색어를 입력하지 않으면 스크립트가 실행되지 않습니다.
- 필터 키워드는 선택사항이지만, 입력하면 더 정확한 검색 결과를 얻을 수 있습니다.
- 스크립트 실행 중에는 다른 스크립트를 실행할 수 없습니다.
- JSON 파일은 `results` 폴더에 저장되며, 파일명은 생성 시간이 포함됩니다.
- 다운로드 버튼은 스크립트 실행이 완료된 후에만 활성화됩니다.

## 1. 환경 설정

### 1.1 Node.js 설치
- [Node.js 공식 웹사이트](https://nodejs.org/)에서 LTS 버전을 다운로드하여 설치합니다.
- 설치 후 터미널에서 다음 명령어로 설치를 확인합니다:
  ```bash
  node --version
  npm --version
  ```

### 1.2 프로젝트 설정
1. 프로젝트 디렉토리 생성:
   ```bash
   mkdir study_selenium
   cd study_selenium
   ```

2. 프로젝트 초기화:
   ```bash
   npm init -y
   ```

3. 필요한 패키지 설치:
   ```bash
   npm install selenium-webdriver
   ```

4. Chrome WebDriver 설치:
   - [Chrome WebDriver 다운로드 페이지](https://chromedriver.chromium.org/downloads)에서 현재 설치된 Chrome 버전과 일치하는 드라이버를 다운로드합니다.
   - 다운로드한 드라이버를 시스템 PATH에 추가하거나 프로젝트 디렉토리에 복사합니다.

## 2. 프로젝트 구조
```
study_selenium/
├── src/
│   ├── scripts/
│   │   ├── library/
│   │   │   └── library.js
│   │   ├── pool/
│   │   │   └── pool.js
│   │   └── party/
│   │       └── party.js
│   └── utils/
│       └── utils.js
├── GUIDE.md
└── README.md
```

## 3. 스크립트 실행 방법

### 3.1 일반 스크립트 실행
1. 터미널에서 프로젝트 디렉토리로 이동:
   ```bash
   cd study_selenium
   ```

2. 스크립트 실행:
   ```bash
   # 도서관 검색
   node src/scripts/library/library.js
   
   # 수영장 검색
   node src/scripts/pool/pool.js
   
   # 파티시설 검색
   node src/scripts/party/party.js
   ```

### 3.2 웹 인터페이스를 통한 실행
1. 서버 실행:
   ```bash
   node src/server.js
   ```

2. 웹 브라우저에서 접속:
   - http://localhost:3000 으로 접속

3. 웹 인터페이스 사용:
   - 검색어 입력
   - 필터 키워드 입력
   - "실행" 버튼 클릭
   - 실행 로그 확인

## 4. 주요 기능

### 4.1 공통 기능
- 지도 검색
- 검색 결과 스크롤
- 페이지네이션 처리

### 4.2 스크립트별 기능
1. 도서관 검색 (`library.js`)
   - 도서관 위치 검색

2. 수영장 검색 (`pool.js`)
   - 수영장 위치 검색

3. 파티시설 검색 (`party.js`)
   - 파티시설 위치 검색

## 5. 오류 처리

### 5.1 일반적인 오류
- 네트워크 연결 오류
- 요소 찾기 실패

### 5.2 해결 방법
1. 네트워크 연결 확인
2. Chrome WebDriver 버전 확인
3. 스크립트 재실행

## 6. 참고 사항
- 스크립트 실행 중에는 Chrome 브라우저를 조작하지 마세요. 